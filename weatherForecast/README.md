# Weather forecast JSON parser

## Task
Написать программу, которая получает прогноз погоды с сайта OpenWeather в виде 
JSON объекта через API key. Получить с объекта данные о температуре, влажности 
и давлении. Используя шаблон проектированния "Наблюдатель" реализовать вывод 
текущего состояния погоды, средних значений и прогноза погоды на будущее.

## Realization
Приложение содержит в себе 2 пакете mvc и observer, которые реализуют логику 
шаблонов проектированния MVC и Наблюдатель. Для реализации Наблюдателя 
использовались встроенные классы Java. Пакет содержит класс Subject, который 
расширяет класс java.util.Observable. Этот класс содержит get методы для 
получение значений температуры, влажности, давления. Также в нем есть метод
setMeasurements(double temp, double humidity, double pressure) для установки 
этих значений. И метод measurementsChanged() для того, чтобы уведомить своих
наблюдателей о том, что получены новые значения погоды. Интерфейс DisplayData, 
содержит метод display() для отображения текущего состояния, средних значений 
и прогноза погоды на будущее. Наблюдатели представленны классами WeatherForecast, 
StatisticData и CurrentWeather. Все 3 класса реализуют интерфейсы Observer и 
DispalyData, поэтому переопределяют методы display() для отображения данных и 
update(Observable o, Object arg), который реализует логику класса (расчета 
прогноза погоды, подсчет статистики и установка текущих значений погоды). 
Основной интерес представляет класс Model, который содержит API key и формирует
URL ссылку. В конструкторе класса Model создается объект типа URL на основе ссылки.
В методе getResponse() мы создаем подключение через объект URLConnection, подключаемся
и получаем ответ (JSON формат), который "засовываем" в объект StringBuilder. После 
этого мы начинаем парсить строку с ответом используя библиотеку Jackson а именно
объект ObjectMapper. После получение необходимых значений мы устанавливаем их
в Subject и вызываем его метод 
setMeasurements(double temp, double humidity, double pressure), который в свою очередь
вызовет метод measurementsChanged() и notifyObservers(). После этого наблюдатели
будут выполнять метод update() и выполнять необходимый функционал.

## Running app
После запуска приложения появится строка "Print "weather" to get weather 
forecast or "exit" to close the app". При введении weather будет выполняться
цепочка событий описанных выше и после того как она закончит свое выполнение
опять появиться строка "Print "weather" to get weather forecast or "exit" 
to close the app". Приложение будет работать до тех пор пока вы не введете
exit. Чтобы получить актуальные данные потребуеться снова ввести слово 
weather либо ввести exit, если вы хотите закрыть приложение.